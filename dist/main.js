!function(){"use strict";var e=(()=>{const e=firebase.database().ref("lists"),t=()=>{e.once("value",(e=>{e.forEach((e=>{let t=n(e.val().list_name,e.key);d(t),i(t)}))}))},n=(e,t)=>{const n=document.createElement("button");n.className="list-item";const d=document.createElement("span");d.innerHTML=e,n.id=t;let i=document.createElement("div");i.className="list-title",i.appendChild(d),n.appendChild(i);let l=document.createElement("div");l.className="delete-button",n.appendChild(l);let o=document.createElement("a"),s=document.createElement("img");return s.src="../dist/imgs/close-icon.png",s.className="delete-icon",s.id="delete-"+e+"-list",l.appendChild(s),s.parentNode.insertBefore(o,s),n.appendChild(l),(e=>{let t=e.querySelector(".list-title").querySelector("span").innerHTML,n=document.querySelector("#current-list");e.addEventListener("click",(()=>{n.textContent=t}))})(n),n},d=e=>{document.querySelector(".lists").appendChild(e)},i=t=>{t.childNodes[1].addEventListener("click",(()=>{var n;t.remove(),n=t.id,e.child(n).remove()}))};return{listLogic:()=>{t()},createListContainer:n,appendListContainerToLists:d,addListToDatabase:(t,n)=>{e.child(n).set({list_name:t,list_objects:{}})},deleteList:i,renderExistingLists:t}})(),t=(()=>{let t=!1;const n=document.querySelector(".list-popup"),d=document.getElementById("list-name"),i=firebase.database().ref("/lists/");return{openPopupWindow:()=>{document.querySelector(".add-list-item").addEventListener("click",(()=>{n.style.display="flex"})),t=!0},closePopupWindow:()=>{document.querySelector(".cancel-list").addEventListener("click",(()=>{n.style.display="none"})),t=!1},addListItem:()=>{document.querySelector(".add-list").addEventListener("click",(()=>{if(d.value.length>0){const t=i.push().key;e.addListToDatabase(d.value,t);let n=e.createListContainer(d.value,t);e.appendListContainerToLists(n),e.deleteList(n),d.value=null}else d.value.length<1&&(d.id="list-name-invalid",setInterval((()=>{d.id="list-name"}),800))}))}}})(),n=(()=>{const e=()=>{const e=document.createElement("div");e.setAttribute("class","todo-item");const t=document.createElement("input");return t.type="radio",e.appendChild(t),e};return{createTodoItemContainer:e,addTodoItemToBoard:()=>{let t=document.querySelector(".todo-items-board"),n=e();t.appendChild(n)}}})(),d=()=>{document.querySelector(".add-todo-item").addEventListener("click",n.addTodoItemToBoard())};t.openPopupWindow(),t.closePopupWindow(),t.addListItem(),e.listLogic(),d()}();